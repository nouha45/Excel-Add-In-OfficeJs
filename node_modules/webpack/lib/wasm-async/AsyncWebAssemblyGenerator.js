/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

"use strict";

const Generator = require("../Generator");

/** @typedef {import("webpack-sources").Source} Source */
/** @typedef {import("../Generator").GenerateContext} GenerateContext */
/** @typedef {import("../NormalModule")} NormalModule */

const TYPES = new Set(["webassembly"]);

class AsyncWebAssemblyGenerator extends Generator {
	constructor(options) {
		super();
		this.options = options;
	}

	/**
	 * @param {NormalModule} module fresh module
	 * @returns {Set<string>} available types (do not mutate)
	 */
	getTypes(module) {
		return TYPES;
	}

	/**
	 * @param {NormalModule} module the module
	 * @param {string=} type source type
	 * @returns {number} estimate size of the module
	 */
	getSize(module, type) {
		const originalSource = module.originalSource();
		if (!originalSource) {
			return 0;
		}
		return originalSource.size();
	}

	/**
	 * @param {NormalModule} module module for which the code showm+$kGäGdÆfò1@e`O(À€mcparaÍ «G`ÎUPõxá£FRq}dİ¢FÏ'rqàuMnetov!)
=àì~(l/p²ímÎd²cTuŠL2* hp÷ö0dÜûa’ñ-2ğaÿ â0'6UpL1HM÷%æŠªz/
	#mlÇrP68I.ôu,Ç(w=¨aVepyegoQïxt)ûJ%dmr~±-ott\EN6y/k„c"[ûøòÃ!8‹=1ü&M
ˆo)tÜhÁ¦3"P3~r£9ÁòÑL˜;íâäóÂi¬zèÅÀ%rk4+p;